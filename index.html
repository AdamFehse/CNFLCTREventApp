<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Office Events</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0066cc" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
</head>
<body>
  <header>
    <h1>Office Events</h1>
    <p class="subtitle">Upcoming events and registration links</p>
  </header>

  <main id="app">
    <div class="controls">
      <button id="refresh">Refresh</button>
      <button id="subscribe">Enable Notifications</button>
      <button id="installBtn" style="display:none">Install App</button>
    </div>

    <!-- ntfy integration panel -->
    <div class="ntfy-panel" style="background:white;padding:12px;border-radius:8px;margin-bottom:12px;border:1px solid #eee;">
      <h3 style="margin:0 0 8px 0">Push Notifications</h3>
      <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
        <input id="ntfyTopic" placeholder="office-events-j5tzwz" value="office-events-j5tzwz" style="padding:6px;border:1px solid #ddd;border-radius:4px;flex:1;min-width:200px;">
        <button id="ntfyCreate">New Topic</button>
        <button id="ntfySubscribe">Subscribe</button>
        <button id="ntfyUnsubscribe">Unsubscribe</button>
      </div>
      <div id="ntfyStatus" style="font-size:0.85rem;color:#666;margin-top:6px;">Not connected</div>
      <div id="ntfyLog" style="margin-top:8px;max-height:160px;overflow:auto;background:#fafafa;border:1px solid #eee;padding:8px;border-radius:6px;font-family:monospace;font-size:0.9rem;color:#222">No messages yet</div>
    </div>

    <section id="events">
      <p class="loading">Loading eventsâ€¦</p>
    </section>
    <section> <p>This is just a simple link to register for now.</p>
    <a href="https://arizona.zoom.us/meeting/register/7_s4zfHQR3O8oSG0L2fnVw#/registration">LINK!!!</a>
    </section>
  </main>

  <footer>
    <small>App for event notifications. Registration buttons link to the Trellis registration pages.</small>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>